<!DOCTYPE html>
<html ng-app='FoodApp'>
  <head>
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>

    <script type="text/javascript" src='app.js'></script>
    <base href="/"/>
    <title></title>
  </head>
  <body ng-controller='foodController as ctrl'>


    <button type="submit" ng-click='ctrl.getCategories();'>Get All Categories</button>

    <div>
      <ul>
        <li ng-repeat='category in ctrl.categories'>{{category.name}} | {{category.description}}</li>
      </ul>
    </div>


    <form ng-submit='ctrl.query();'>
      <input type="text" ng-model='ctrl.locationSearch' placeholder="Location Here"/>
      <input id='input' type="text" ng-model='ctrl.searchTerm' placeholder="Food Here"/>
      <input type="submit" value="Submit"/>
    </form>

    <h2>Recipe Results</h2>
    <div ng-repeat='recipe in ctrl.recipeGroup track by $index'>
      <a href='{{recipe.url}}'><img ng-src="{{recipe.img_url}}" alt=""/></a>
      <p>{{recipe.name}}</p>
      <button type="button" ng-click='ctrl.addRecipe($index);'>Add to Database</button>
    </div>

    <form ng-submit='ctrl.placeQuery();'>
      <input type="text" ng-model='ctrl.location' placeholder="City or Postal Code">
      <input type="submit" value="Submit">
    </form>

    <h2>Restaurants</h2>
    <div ng-repeat='place in ctrl.placeData'>
      <a href="{{place.url}}">{{place.name}}</a>
      <a href='{{place.image_url}}'><img ng-src="{{place.image_url}}" alt="Restaurant Image Url"/></a>
    </div>

  </body>
</html>
